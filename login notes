<?php

require __DIR__.'/inc/db.php';

$dbConnexion = new DB; 

$pdo = $dbConnexion->getPdo();

if($_POST['npassword']== $_POST['password2']){

    $pdoConnexionSecured = $pdo->prepare("INSERT INTO `administres` WHERE 
    `nomAdministre`=:nom 
    and `prenomAdministre`=:prenom
    and `telephoneAdministre`=:telephone
    and `adresseAdministre`=:adresse
    and `emailADministre`=:email
    and `password`=:npassword
    ");
        
    $pdoConnexionSecured->bindValue(':nom', $_POST['nom']);
    $pdoConnexionSecured->bindValue(':prenom', $_POST['prenom']);
    $pdoConnexionSecured->bindValue(':telephone', $_POST['telephone']);
    $pdoConnexionSecured->bindValue(':adresse', $_POST['adresse']);
    $pdoConnexionSecured->bindValue(':email', $_POST['email']);
    $pdoConnexionSecured->bindValue(':npassword', $_POST['npassword']);
    $pdoConnexionSecured->bindValue(':password2', $_POST['password2']);
    $pdoConnexionSecured->execute();
    $result = $pdoConnexionSecured->fetch(PDO::FETCH_ASSOC);

        
    if ($result != 0) {
       
        header("<h2>Erreur: les mots de passe que vous avez saisis ne correspondent pas. Veuillez réessayer</h2>");

    } 
    else {
        
        header('Location: subscribed.php');
    }  

     { 
    
    echo "<h2>Erreur: les mots de passe que vous avez saisis ne correspondent pas. Veuillez réessayer</h2>"
    
}

  
  





<?php

require __DIR__.'/inc/db.php';


if (isset($_POST['usermail']) && isset($_POST['password']))
{

    $dbConnexion = new DB; 

    $pdo = $dbConnexion->getPdo();

    if($_POST['npassword']== $_POST['password2']){

        $pdoConnexionSecured = $pdo->prepare("INSERT INTO `administres` WHERE 
         `nomAdministre`=:nom 
         and `prenomAdministre`=:prenom
         and `telephoneAdministre`=:telephone
         and `adresseAdministre`=:adresse
         and `emailADministre`=:email
         and `password`=:npassword
        ");
        
        $pdoConnexionSecured->bindValue(':nom', $_POST['nom']);
        $pdoConnexionSecured->bindValue(':prenom', $_POST['prenom']);
        $pdoConnexionSecured->bindValue(':telephone', $_POST['telephone']);
        $pdoConnexionSecured->bindValue(':adresse', $_POST['adresse']);
        $pdoConnexionSecured->bindValue(':email', $_POST['email']);
        $pdoConnexionSecured->bindValue(':npassword', $_POST['npassword']);
        $pdoConnexionSecured->bindValue(':password2', $_POST['password2']);

        $pdoConnexionSecured->execute();

        $result = $pdoConnexionSecured->fetch(PDO::FETCH_ASSOC);

       

        if ($result != 0) {
            header('Location: subscribed.php');  
                 } 

        else {"<h2>Erreur: Veuillez réessayer</h2>"
                }   
        
    }
    else { 
    
        echo "<h2>Erreur: les mots de passe que vous avez saisis ne correspondent pas. Veuillez réessayer</h2>"
    }
    
} 

else {"<h2>Erreur: Veuillez réessayer</h2>"
}  

  
  





